# Тема: "Удаленный доступ к 3D-принтерам"
##### Дисциплина: "Администрирование операционных систем"
_Работу выполнили: студенты группы РИС-19-1б
Люкина Диана, Пермякова Полина, Волкова Ксения_
***
### Введение
Операционная система (ОС) – это комплекс взаимосвязанных системных программ для организации взаимодействия пользователя с компьютером и выполнения всех других программ. ОС относятся к составу системного программного обеспечения и являются основной его частью. В этой работе говорится о Linux - это семейство операционных систем (ОС), работающих на основе одноименного ядра, которое выступает в качестве посредника между устройствами ПК и его ПО. 

Над поддержанием работы такого сложного продукта занимается предмет "Администрирование ОС". Целью администрирования операционных систем является обеспечение её надежного функционирования. Оно занимается решением многих задач: управлением доступом, добавлением оборудования, автоматизацией задач, управление резервными копиями, установкой и обновлением программного обеспечения, мониторингом, исправлением проблем и многими другими. В данной же работе необходимо из одного компьютера подключиться к другому, который в свою очередь подключен к 3д-принтерам, и заставить эти устройства работать.

__Цель работы__ - настроить одновременную работу 3д принтеров на удаленном компьютере.

В процессе необходимо будет решить следующие __задачи__: 
1. Изучить методы удаленного доступа к Linux 
2. Подключиться к компьютеру в центре робототехники
3. Написать команды для управления 3д принтерами

### Начало работы
Перед выполнением цели было необходимо обновить ОС на компьютере, к которому были подключены через USB 3D-принтеры. Это делается для того, чтобы исключить ошибки в безопастности системы (практически каждое обновление ядра будет иметь какие-то исправления безопасности, которые закрывают обнаруженные дыры), обновить драйверы, которые после обновления обычно увеличивают производительность, добавить новые функции ядра и улучшить общую скорость системы.

Для изменения дистрибутива ОС заходим на официальный сайт Ubuntu, и скачиваем установочный файл. Он довольно объемный, поэтому для изъятия документа из интернета требуется очень много времени. В ходе небольших экспериментов и наблюдений было выяснено, что команда _$ wget_, введенная в терминале, работает быстрее, чем обычный установщик. Поэтому дальнейшее скачивание идет уже через терминал. 

Установочный файл загружается на флешку и при перезагрузке компьютера идет установка нового дистрибутива.

Операционная система обновлена.

### Подключение к удаленному компьютеру
Начинается основная работа. Для того, чтобы подключиться к другому компьютеру, пользуются SSH. SSH - сетевой протокол. Используется для удаленного управления операционными системами и передачи файлов. Ключевая особенность заключается в том, что SSH шифрует трафик, делая подключения безопасными. По умолчанию, использует 22-й порт. Аббревиатура расшифровывается как Secure Shell.

Программные реализации SSH делятся на серверные и клиентские части. В основном, в качестве сервера применяется OpenSSH, клиентов — OpenSSH, PuTTY или SecureCRT.
В данной работе будет использоваться OpenSSH. Для начала необходимо установить openssh сервер на компьютер, к которому будет необходимо удаленно подключаться. Для этого в терминале прописываем команду:

    sudo apt install openssh-server

Будет загружено несколько пакетов, и когда установка ssh сервера Ubuntu завершится, программа будет готова к работе.

Теперь можно подключиться к компьютеру с ssh сервером через другой компьютер. Для подключения по SSH необходимо знать такие данные:
* ip адрес сервера, к которому мы собираемся подключится;
* порт, на котором ожидает подключения SSH сервер, по умолчанию используется 22, но в целях безопасности порт подключения ssh часто изменяют;
* имя и пароль пользователя на удаленном сервере

Имя и пароль на удаленном компьютере известны. Осталось выяснить ip адрес. Для этого в терминале на компьютере, в котором установлен ssh, вводим следующую команду:

    ip address

Эта команда определяет IP-адрес сетевого интерфейса. В итоге будет выведен список текущих сетевых интерфейсов и их параметры. Выбираем Ethernet-интерфейс.

Подключаемся к удаленному компьютеру в таком формате:

    ssh имя_пользователя@ip_адрес
Вводим пароль. Подключение осуществлено.

### Удаленное управление 3д-принтерами
Для начала 3D-принтер подключаем к электросети, а затем, через USB-порт — к стационарному компьютеру. Включаем принтер кнопкой питания. После того, как операционная система компьютера определит принтер как новое устройство, начнется автоматическая установка драйверов. 

Для того, чтобы начать 3D-печать, необходимо установить программное обеспечение. В нашем случае - Printrun. Это пакет программного обеспечения для 3D-печати, который общается с принтером и управляет процессом печати. Состоит из:

* Pronterface - полнофункциональный хост с графическим интерфейсом
* Pronsole - интерактивный хост командной строки для любителей консолей (или печать по ssh, или...)
* Printcore - автономный неинтерактивный хост G-Code

И Pronterface, и Pronsole позволяют в интерактивном режиме управлять машиной, нарезать объекты непосредственно с хоста, печатать объекты, загружать их на SD-карты и запускать печать с SD.
Printrun поддерживает как последовательные, так и Ethernet-соединения и с большим успехом используется в самых разных областях.

Устанавливаем Printrun из официальных пакетов, используя команды:

    sudo apt update
    sudo apt install printrun

Так как мы работаем удаленно через ssh, в качестве нашего инструмента в работе с 3d-принтерами будет выступать хост pronsole. В терминал пишем команду

    pronsole

Выводится сообщение _offline>_, что означает, что мы ещё ни к чему не подключены.  Используем команду _connect [USB-порт]_, чтобы подключиться к одному из портов

    connect /dev/ttyUSB0
Это значит, что дальнейшие действия будут выполняться с тем принтером, который подключен к порту ttyUSB0.

Вводим help для просмотра доступных команд. Все команды имеют внутреннюю справку, доступ к которой можно получить, набрав «help имя_команды», например «help load».

Ранее был сформирован файл gcode на одном из слайсеров, в котором содержаться команды для принтера, поэтому в терминале достаточно написать _load [путь к файлу]_, который загружает этот файл для печати. С помощью команды _print_ отправляем файл на печать.  

В связи с тем, что необходимо сделать так, чтобы два принтера работали одновременно, включаем второй терминал, подключаемся к удаленному компьютеру, выполняем те же команды, но порт уже будет другой (ttyUSB1).

Итог таков: два 3D-принтера успешно подключены и одновременно работают, управление ими осуществлено удаленным компьютером.

### Заключение
В ходе выполнения работы были выполнены все задачи: были изучены методы удаленного доступа к Linux, подключились к компьютеру в центре робототехники, написаны команды для управления 3д принтерами.
Цель работы достигнута - настроена одновременная работу 3д принтеров на удаленном компьютере.
